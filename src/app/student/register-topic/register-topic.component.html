<app-header></app-header>
<!-- đăng ký đề tài -->

<body>
    <div class=topp>
        <!-- <div class="top"></div> -->

        <div class="info">
            <div class="header">
                <h3 style="font-weight: bold">
                    Thông tin sinh viên
                </h3>
            </div>
            <table style="background-color: white" *ngIf="student">
                <tr>
                    <td class="title">Mã số sinh viên:</td>
                    <td>{{ student.numberStudent }}</td>
                </tr>
                <tr>
                    <td class="title">Tên:</td>
                    <td>{{ student.name }}</td>
                </tr>
                <tr>
                    <td class="title">Ngày sinh:</td>
                    <td>{{ student.birthday }}</td>
                </tr>
                <tr>
                    <td class="title">Giới tính:</td>
                    <td>{{ student.gender === 1 ? 'Nam' : 'Nữ' }}</td>
                </tr>
                <tr>
                    <td class="title">Lớp học:</td>
                    <td>{{ student.classroom }}</td>
                </tr>
                <tr>
                    <td class="title">Ngành:</td>
                    <td>{{ student.major }}</td>
                </tr>
                <tr>
                    <td>Giảng viên hướng dẫn: </td>
                    <td><div *ngIf="teacher">{{teacher.name}}</div>
                        <div *ngIf="!teacher">Chưa có</div>
                    </td>
                </tr>
                <tr *ngIf="registerT">
                    <td class="title">Đề tài: 
                     </td>
                    <td *ngIf="registerT.topicName !=''">{{registerT.topicName}}</td>
                    <td *ngIf="registerT.topicName==''">
                        {{registerT.topic.name}}</td>
                </tr>
                <tr *ngIf="registerT">
                    <td>Trạng thái</td>
                    <td *ngIf="registerT.status == 0">Chờ xác nhận</td>
                    <td *ngIf="registerT.status == 1">Đã duyệt</td>
                    <td *ngIf="registerT.status == 2">Bị hủy</td>
                    
                </tr>
                <tr *ngIf="registerT && registerT.status == 2">
                <td>{{registerT.reason}}</td></tr>
            </table>
        </div>

        <!-- Sử dụng form-> formGroup -> có dữ liệu -> onSubmit -->

        <div class="register_topic" *ngIf="teacher;else noData">
            <form [formGroup]="form">
                <div class="semester">
                    <div *ngIf="teacher">
                        <label for="toggleLabel">Giảng viên hướng dẫn</label>
                        <input type="text" [value]="teacher.name" disabled>

                    </div>
                    <div class="label-toggle">
                        <label for="toggleLabel">Click vào đây nếu muốn tự đề xuất đề tài </label>
                        <input type="checkbox" (click)="changeShow()">

                    </div>
                    <div *ngIf="showLabels; else data2">
                        <label for="customTopic">Đề tài đề xuất</label>
                        <input type="text" class="custom-input" id="topicName" name="topicName"
                            formControlName="topicName">
                    </div>
                    <ng-template #data2>
                        <div>
                            <label for="topicSelect">Đề tài mẫu của giảng viên:</label>
                            <select name="topicSelect" id="topicSelect" formControlName="topic">
                                <option *ngFor="let topic of listTopic" [value]="topic.id">{{ topic.name }}</option>
                            </select>
                        </div>
                    </ng-template>
                    <button (click)="registerTopic()">Gửi</button>
                </div>
            </form>
        </div>
        <ng-template #noData>
            <div class="text-center mt-5">
                Bạn chưa có giảng viên hướng dẫn. Vui lòng quay lại sau!<br>
                Đăng ký giảng viên hướng dẫn <span style="color: blue;" routerLink="/register_teacher">tại đây</span> 
            </div>
            
        </ng-template>



    </div>

</body>
<app-footer></app-footer>